{% load unicorn %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    {% unicorn_scripts %}
    {% block header %}{% endblock %}

    <title>{% block title %}{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/output.css' %}" />
  </head>

  <body class="overflow-y-auto min-h-screen">
    {% csrf_token %}
    <nav class="z-50 flex w-full top-0 backdrop-blur bg-white px-2">
      <div class="flex flex-col w-full">
        <div class="px-12 py-4 flex justify-between items-center">

          <!-- ESQUERDA: LOGO + LINK -->
          <div class="flex items-center">

            <!-- LOGO -->
            <a href="{% url 'index' %}" class="flex items-center">
              <img class="h-12" src="{% static 'image/habitas.png' %}">
            </a>

            <!-- LINK COM ESPAÇAMENTO FIXO -->
            <a href="{% url 'politica_privacidade' %}"
               class="text-xs text-emerald-700 hover:text-emerald-900 underline font-medium whitespace-nowrap"
               style="margin-left: 120px;">
              Política de Privacidade
            </a>

          </div>

          <!-- DIREITA: MENU -->
          <div class="flex items-center gap-6">
            {% if user.is_authenticated %}
              <span class="text-gray-700 font-medium">
                Olá, <span class="text-emerald-700 font-semibold">{{ user.username }}</span>
                <span class="text-xs bg-emerald-100 text-emerald-800 px-2 py-1 rounded ml-2 font-normal">
                  {{ user.get_user_type_display }}
                </span>
              </span>
              
              {% if user.is_gestor %}
                <a href="{% url 'dashboard_gestor' %}"
                   class="inline-flex items-center gap-2 text-emerald-600 hover:text-emerald-700 font-medium transition-colors">
                  Dashboard
                </a>
              {% elif user.is_tecnico %}
                <a href="{% url 'dashboard_tecnico' %}"
                   class="inline-flex items-center gap-2 text-emerald-600 hover:text-emerald-700 font-medium transition-colors">
                  Dashboard
                </a>
              {% endif %}
              
              <a href="{% url 'logout' %}"
                 class="inline-flex items-center gap-2 bg-gray-200 text-gray-800 px-5 py-2.5 rounded-lg hover:bg-gray-300 font-medium shadow-md hover:shadow-lg transition-all">
                Sair
              </a>

            {% else %}
              <a href="{% url 'login' %}"
                 class="text-emerald-600 hover:text-emerald-700 font-medium px-4 py-2 transition-colors">
                Login
              </a>
              <a href="{% url 'register_cidadao' %}"
                 class="inline-flex items-center gap-2 bg-emerald-600 text-white px-5 py-2.5 rounded-lg hover:bg-emerald-700 font-medium shadow-md hover:shadow-lg transition-all">
                Cadastrar
              </a>
            {% endif %}
          </div>

        </div>
        <hr class="bg-emerald-600 h-0.5 w-full" />
      </div>
    </nav>
    
    {% if messages %}
      <div class="fixed top-20 right-4 z-50 space-y-2">
        {% for message in messages %}
          <div class="bg-{{ message.tags }}-100 border border-{{ message.tags }}-400 text-{{ message.tags }}-700 px-4 py-3 rounded shadow-lg">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
    
    {% block content %} {% endblock %}
  </body>
</html>
